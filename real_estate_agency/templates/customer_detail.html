{% extends 'base.html'%}
{% block content %}

<div class="container mt-5  text-white" >
    <h2 class="text-center ">Customer details</h2>
    <form action="/customer" method="POST">
        {% csrf_token %}

        <!-- Name and Last Name -->
        {% comment %} <div class="row mb-3">
            <div class="col">
                <label for="firstName" class="form-label">First Name</label>
                <input type="text" class="form-control" id="firstName" name="first_name" required>
            </div>
            <div class="col">
                <label for="lastName" class="form-label">Last Name</label>
                <input type="text" class="form-control" id="lastName" name="last_name" required>
            </div>
        </div> {% endcomment %}
        <div class="row mb-3">
            <div class="col">
                <label for="firstName" class="form-label">First Name</label>
                <input type="text" class="form-control" id="firstName" name="first_name" pattern="[A-Za-z\s]+" title="First name should only contain letters and spaces" required>
            </div>
            <div class="col">
                <label for="lastName" class="form-label">Last Name</label>
                <input type="text" class="form-control" id="lastName" name="last_name" pattern="[A-Za-z\s]+" title="Last name should only contain letters and spaces" required>
            </div>
        </div>
        

        <!-- Email and contact -->
        <div class="mb-3">
            <label for="contact" class="form-label">Contact Number</label>
            <input type="number" class="form-control" id="contact" name="contact"  pattern="[1-9][0-9]{9}" title="Please enter a valid 10-digit phone number" required>
        </div>
        <div class="mb-3">
            <label for="email" class="form-label">Email</label>
            <input type="email" class="form-control" id="email" name="email" required>
        </div>

        <!-- Address and City -->
        <div class="row mb-3">
            <div class="col">
                <label for="address" class="form-label">Address</label>
                <input type="text" class="form-control" id="address" name="address" required>
            </div>
            <div class="col">
                <label for="city" class="form-label">City you preffered</label>
                <input type="text" class="form-control" id="city" name="city" required>
            </div>
        </div>

        <!-- Radio Buttons for 1bhk, 2bhk, 3bhk -->
        <div class="mb-3">
            <label class="form-label">Select Apartment Type</label>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="apartment_size" id="1bhk" value="1bhk" required>
                <label class="form-check-label" for="1bhk">1 BHK</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="apartment_size" id="2bhk" value="2bhk" required>
                <label class="form-check-label" for="2bhk">2 BHK</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="apartment_size" id="3bhk" value="3bhk" required>
                <label class="form-check-label" for="3bhk">3 BHK</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="apartment_size" id="independant_house" value="independant_house" required>
                <label class="form-check-label" for="independant_house">Independant House</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="apartment_size" id="plot" value="plot" required>
                <label class="form-check-label" for="plot">Plot</label>
            </div>
        </div>

        <!-- Submit Button -->
        
        <button type="submit" class="btn btn-primary">Submit</button>
    </form>
</div>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const form = document.querySelector('form');
        
        form.addEventListener('submit', function (e) {
            const firstName = document.getElementById('firstName').value;
            const lastName = document.getElementById('lastName').value;
            const contact = document.getElementById('contact').value;
            const email = document.getElementById('email').value;

            // Regex pattern to validate only alphabet characters and spaces
            const namePattern = /^[A-Za-z\s]+$/;

            // Validate First Name
            if (!namePattern.test(firstName)) {
                alert('First name should contain only letters and spaces.');
                e.preventDefault();  // Prevent form submission
                return false;
            }

            // Validate Last Name
            if (!namePattern.test(lastName)) {
                alert('Last name should contain only letters and spaces.');
                e.preventDefault();
                return false;
            }
        });
  
        form.addEventListener('submit', function (e) {
            const contact = contactField.value;

            // Regex pattern to validate a 10-digit contact number
            const contactPattern = /^[1-9][0-9]{9}$/;

            // Validate Contact Number
            if (!contactPattern.test(contact)) {
                alert('Contact number must be a valid 10-digit number.');
                e.preventDefault();  // Prevent form submission
                return false;
            }
        });
});
</script>

{% endblock content %}
